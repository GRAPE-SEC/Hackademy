# docker 컨테이너 생성

<aside>
💡 author : 전재호(agamtt) 2023-09-23

</aside>

### 컨테이너 실행 (Run)

도커를 설치하고 난 후에는, 도커 가상환경을 생성한 뒤, 그 가상환경에 접속해야합니다.

도커로 생성한 가상환경을, “도커 컨테이너” 라고 부릅니다.

보통 편의상 컨테이너라고 부릅니다.

하나의 붕어빵틀로 여러개의 물건을 만들 수 있는 것처럼,

하나의 이미지로부터 여러개의 컨테이너를 만들 수 있습니다.

이미지로부터 컨테이너를 생성하는 것을 **실행(Run)** 이라고 부릅니다. (나중에 배울, 도커 컨테이너를 켜고 끌때 말하는 Start 와는 다릅니다. 구분해서 기억해야합니다.)

컨테이너를 생성하는 방법은 다음과 같습니다.

# cmd / powershell / Terminal 로 도커 컨테이너 생성하기

### 1. Windows 의 경우

cmd 나 Powershell 을 Windows 검색창에 입력해서 실행합니다.

![Untitled](Untitled%209.png)

![Untitled](Untitled%2010.png)

![Untitled](Untitled%2011.png)

### 2. MacOS 의 경우

검색창에 “터미널” 또는 “Terminal”을 입력하거나 앱 목록에서 터미널을 찾아서 클릭합니다.

![Untitled](Untitled%2012.png)

이제 터미널이 열린 상태에서 아래의 명령어를 입력합니다.

(도커 데스크톱 프로그램이 실행중이여야 합니다.)

```bash
docker run -dit ubuntu
```

![Untitled](Untitled%2013.png)

그리고 나서, 아까 설치한 Docker Desktop 을 실행합니다.

그러면 컨테이너가 생성된 것을 볼 수 있습니다.

![Untitled](Untitled%2014.png)

잘 모르겠으면 구글에 “도커 컨테이너 생성하기” 로 검색하면 다양한 참고자료가 나옵니다.

## 도커 컨테이너 : 시작(Start)/중지(Stop)/삭제(delete)

도커 컨테이너는 세가지의 상태가 있습니다.

1. 시작(Start) 상태
    1. 컨테이너가 켜져있는 상태입니다. 이 상태에서만 컨테이너에 접속할 수 있습니다.
        1. 도커 컨테이너는 하나의 컴퓨터라고 생각해야합니다. 컴퓨터 전원을 켜는 것이 Start 입니다.
        2. 컴퓨터가 켜져있어야 접속가능한 거처럼. 도커 컨테이너도 하나의 컴퓨터이므로 켜져있어야 접속 가능합니다.
        3. 이 상태에서는 컴퓨터의 성능을 잡아먹습니다. 백그라운드에서 켜져있으면서, 작동합니다. 즉 여러개를 실행하면 컴퓨터가 느려집니다.
2. 중지(Stop) 상태
    1. 컨테이너가 꺼져있는 상태입니다. 어떤 컨테이너를 중지하면 아직 삭제되지는 않고, Start 하면 다시 켜집니다. 컴퓨터를 껐다켰다 할 수 있는 것 처럼, Start/Stop 하면서 사용할 수 있습니다. 안쓰는 컨테이너는 Stop 해놔야 컴퓨터가 안느려집니다.
3. 삭제(delete)
    1. 컨테이너를 삭제하면, 다시 Start 할 수 없게되고 컨테이너 내부에 저장된 파일이 모두 삭제됩니다. (복구불가)
    

Start 상태일때, 네모모양 중지버튼을 누르면 Stop 상태가 됩니다.

Stop 상태일때, 세모모양 재생버튼을 누르면 Start 상태가 됩니다.

![Untitled](Untitled%2015.png)

휴지통 모양을 클릭하면 삭제(delete) 됩니다.

![Untitled](Untitled%2016.png)

여러개의 컨테이너를 생성하고, 삭제해보면서 연습해보세요.

# 컨테이너에 접속

<aside>
💡 시작(Start) 상태에서만 컨테이너에 접속할 수 있습니다. 컴퓨터가 켜져있어야 접속가능한 거처럼. 도커 컨테이너도 하나의 컴퓨터이므로 켜져있어야 접속 가능합니다.

</aside>

현재 컴퓨터에 설치된 컨테이너에 접속하는 방법은 여러가지가 있는데, 몇가지를 소개합니다.

첫번째는 도커 데스크톱 앱에서 접속하는 것이고,

두번째는 Visual Studio Code 라는 프로그램을 이용하는 것 입니다.

# 도커 데스크톱 터미널

도커 데스크톱 터미널로 접속하는 방법입니다. 

도커 데스크톱 앱을 실행한 후, Container Tab을 클릭합니다.

![Untitled](Untitled%2017.png)

![Untitled](Untitled%2018.png)

![Untitled](Untitled%2019.png)

이제 ls 를 입력하여 작동하는지 확인합니다.

Exec 을 누르면 명령어를 입력할 수 있는 창이 뜹니다.

![Untitled](Untitled%2020.png)

ls 를 입력하면, (곧 이게 뭔지 배웁니다!)

아래와 같이 뜨면 정상입니다.

![Untitled](Untitled%2021.png)

Docker 를 컴퓨터에 설치하였고, Docker 를 이용하여 리눅스 환경을 생성하는데 성공했습니다.

계속